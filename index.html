<!DOCTYPE html>
<html>
<head>
    <title>Prueba de Conexión a Firebase</title>
    <script type="module">
        // Importar funciones necesarias de Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBQqbaFLm2DRldeIU3v3RWkSX0_1vsMrWs",
            authDomain: "tipificacion-de-llamadas.firebaseapp.com",
            projectId: "tipificacion-de-llamadas",
            storageBucket: "tipificacion-de-llamadas.appspot.com",
            messagingSenderId: "738039891529",
            appId: "1:738039891529:web:f3c6aabb640d49cbd2a198",
            measurementId: "G-TBHSZLK7C2"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Función para probar la conexión
        async function testConnection() {
            try {
                const querySnapshot = await getDocs(collection(db, "calls"));
                console.log("Datos obtenidos de Firestore:");
                querySnapshot.forEach((doc) => {
                    console.log(`${doc.id} => ${doc.data()}`);
                });
                alert("Conexión a Firebase exitosa. Revisa la consola para ver los datos.");
            } catch (error) {
                alert("Error al conectar con Firebase: " + error.message);
                console.error("Error al conectar con Firestore: ", error);
            }
        }

        // Llamar a la función de prueba cuando la página se carga
        document.addEventListener('DOMContentLoaded', testConnection);
    </script>
</head>
<body>
    <h1>Prueba de Conexión a Firebase</h1>
    <p>Revisa la consola del navegador para ver los datos obtenidos de Firestore.</p>
</body>
</html>
